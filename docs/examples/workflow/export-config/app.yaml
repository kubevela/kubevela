apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: export-config
  namespace: default
spec:
  components:
  - name: express-server
    type: webservice
    properties:
      image: crccheck/hello-world
      port: 8000
      volumes:
        - name: my-configmap
          type: configMap
          mountPath: /test-cm
          cmName: my-configmap
          items:
            - key: test-key
              path: test-key
  workflow:
    steps:
      - name: export-config
        type: export-config
        properties:
          name: my-configmap
          data:
            test-key: test-value
      - name: apply-server
        type: apply-component
        properties:
          component: express-server
