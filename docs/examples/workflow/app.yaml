apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: application-sample
  namespace: default
spec:
  components:
    - name: "server1"
      type: "singletonServer"
    - name: "server2"
      type: "singletonServer"
  workflow:
    steps:
      - name: deploy-server1
        type: apply
        properties:
          component: "server1"
          name: "firstApp"
        outputs:
          - name: server1Ip
            exportKey: "myIp"
      - name: deploy-server2
        type: apply
        inputs:
          - from: server1Ip
            parameterKey: prefixIP
        properties:
          name: "secondApp"
          component: "server2"