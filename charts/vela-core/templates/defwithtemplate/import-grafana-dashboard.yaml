# Code generated by KubeVela templates. DO NOT EDIT. Please edit the original cue file.
# Definition source cue file: vela-templates/definitions/internal/import-grafana-dashboard.cue
apiVersion: core.oam.dev/v1beta1
kind: TraitDefinition
metadata:
  annotations:
    definition.oam.dev/description: Import dashboards to Grafana
  labels:
    custom.definition.oam.dev/ui-hidden: "true"
  name: import-grafana-dashboard
  namespace: {{ include "systemDefinitionNamespace" . }}
spec:
  appliesToWorkloads: []
  conflictsWith: []
  podDisruptive: false
  schematic:
    cue:
      template: |
        outputs: registerdatasource: {
        	apiVersion: "grafana.extension.oam.dev/v1alpha1"
        	kind:       "ImportDashboard"
        	spec: {
        		grafana: {
        			service:                   parameter.grafanaServiceName
        			namespace:                 parameter.grafanaServiceNamespace
        			credentialSecret:          parameter.credentialSecret
        			credentialSecretNamespace: parameter.credentialSecretNamespace
        		}
        		urls: parameter.urls
        	}
        }
        parameter: {
        	grafanaServiceName:        string
        	grafanaServiceNamespace:   *"default" | string
        	credentialSecret:          string
        	credentialSecretNamespace: *"default" | string
        	urls: [...string]

        }
  workloadRefPath: ""

