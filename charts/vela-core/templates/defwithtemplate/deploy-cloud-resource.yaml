# Code generated by KubeVela templates. DO NOT EDIT. Please edit the original cue file.
# Definition source cue file: vela-templates/definitions/internal/deploy-cloud-resource.cue
apiVersion: core.oam.dev/v1beta1
kind: WorkflowStepDefinition
metadata:
  annotations:
    custom.definition.oam.dev/category: Application Delivery
    definition.oam.dev/description: Deploy cloud resource and deliver secret to multi clusters.
  labels:
    custom.definition.oam.dev/scope: Application
  name: deploy-cloud-resource
  namespace: {{ include "systemDefinitionNamespace" . }}
spec:
  schematic:
    cue:
      template: |
        import (
        	"vela/op"
        )

        app: op.#DeployCloudResource & {
        	env:    parameter.env
        	policy: parameter.policy
        	// context.namespace indicates the namespace of the app
        	namespace: context.namespace
        	// context.namespace indicates the name of the app
        	name: context.name
        }

        parameter: {
        	// +usage=Declare the name of the env-binding policy, if empty, the first env-binding policy will be used
        	policy: *"" | string
        	// +usage=Declare the name of the env in policy
        	env: string
        }

