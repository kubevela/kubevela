# Code generated by KubeVela templates. DO NOT EDIT. Please edit the original cue file.
# Definition source cue file: vela-templates/definitions/internal/deploy.cue
apiVersion: core.oam.dev/v1beta1
kind: WorkflowStepDefinition
metadata:
  annotations:
    definition.oam.dev/description: Deploy components with policies.
  name: deploy
  namespace: {{ include "systemDefinitionNamespace" . }}
spec:
  schematic:
    cue:
      template: |
        import (
        	"vela/op"
        )

        deploy: op.#Deploy & {
        	policies:                 parameter.policies
        	parallelism:              parameter.parallelism
        	ignoreTerraformComponent: parameter.ignoreTerraformComponent
        }
        parameter: {
        	//+usage=If set false, the workflow will be suspend before this step.
        	auto: *true | bool
        	//+usage=Declare the policies used for this step.
        	policies?: [...string]
        	//+usage=Maximum number of concurrent delivered components.
        	parallelism: *5 | int
        	//+usage=If set false, this step will apply the components with the terraform workload.
        	ignoreTerraformComponent: *true | bool
        }

